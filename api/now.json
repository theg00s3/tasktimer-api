{
  "version": 2,
  "name": "api.pomodoro.cc",
  "alias": "api.pomodoro.cc",
  "regions": ["bru"],
  "env": {
    "TWITTER_CONSUMER_KEY": "@twitter_consumer_key",
    "TWITTER_CONSUMER_SECRET": "@twitter_consumer_secret",
    "TWITTER_CALLBACK_URL": "@twitter_callback_url",
    "GITHUB_CLIENT_ID": "@github_client_id",
    "GITHUB_CLIENT_SECRET": "@github_client_secret",
    "GITHUB_CALLBACK_URL": "@github_callback_url",
    "MONGO_URL": "@mongo_url",
    "PUSHER_APP_ID": "@pusher_app_id",
    "PUSHER_KEY": "@pusher_key",
    "PUSHER_SECRET": "@pusher_secret",
    "SENTRY_DSN": "@sentry_dsn",
    "NODE_ENV": "@node_env",
    "STRIPE_SECRET_KEY": "@stripe_secret_key",
    "STRIPE_PLAN": "@stripe_plan",
    "USE_AUTH": "@use_auth",
    "BASE_URL": "@base_url"
  },
  "builds": [
    { "src": "app.js", "use": "@now/node", "config": { "maxLambdaSize": "512mb" } },
    { "src": "routes/healthcheck.js", "use": "@now/node", "config": { "maxLambdaSize": "512mb" } },
    { "src": "routes/api.js", "use": "@now/node", "config": { "maxLambdaSize": "512mb" } },
    { "src": "routes/user.js", "use": "@now/node", "config": { "maxLambdaSize": "512mb" } }
  ],
  "routes": [
    { "src": "/", "dest": "/routes/healthcheck.js" },
    { "src": "/healthcheck", "dest": "/routes/healthcheck.js" },
    { "src": "/user/info", "dest": "/routes/user.js" },
    { "src": "/user/logout", "dest": "/routes/user.js" },
    { "src": "/twitter", "dest": "/app.js" },
    { "src": "/twitter/callback*", "dest": "/app.js" },
    { "src": "/github", "dest": "/app.js" },
    { "src": "/github/callback*", "dest": "/app.js" },
    { "src": "/team.*", "methods": ["POST", "GET", "OPTIONS"], "dest": "/routes/team.js" },
    { "src": "/.*", "methods": ["POST", "GET", "OPTIONS"], "dest": "/routes/api.js" }
  ]
}